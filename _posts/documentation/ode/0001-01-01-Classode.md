---
description: The class ode structure the idea of an ordinary differential equation, 
              so that in this way you can create different methods on the same matlab
              structure. Given that matlab leaves a freedom to define the representation
              of an equation, we chose to create a matlab class with the most important 
              properties of an ODE.
visible: true
title: ode
categories: [documentation, MDL00]
layout: class
type: constructor
properties:
   VectorState: 
        type: "Struct"
        dimension: [1x1]
        default: "none"
        description:  "MATLAB Structure that contain the two properties
                      <ul>
                          <li> Symbolic - Symbolic Vector State [y1 y2 ...] </li>
                          <li> Numeric  - Numeric solution of the equation. 
                                          The numeric property only is
                                          aviable if previus solve the equation. 
                          </li>
                      </ul>"
      
   Control: 
        type: "Struct"
        dimension: [1x1]
        default: "none"
        description:  MATLAB Structure that contain the two properties
                      <ul>
                          <li> Symbolic - Symbolic Vector State [u1 u2 ...] </li>
                          <li> Numeric  - matrix Numeric control to solve the equation. 
                                          $$\dot{Y} = f(t,\dot{Y},U)$$ 
                          </li>
                      </ul>
      
   Dynamic: 
        type: "Struct"
        dimension: [1x1]
        default: "none"
        description:  MATLAB Structure that contain the two properties
                      <ul>
                          <li> Symbolic - symbolic function of dynamics equation </li>
                          <li> Numeric  - function_handle of dynamics equation. 
                          </li>
                      </ul>
      
   Condition: 
        type: "double"
        dimension: [1xN]
        default: "[0 0 0 ...]"
        description: "Initial State or Final State dependent of property Type"
      
   Type: 
        type: "double"
        dimension: [1x1]
        default: "InitialCondition"
        description: "The equation can be InitialCondition  or FinalCondition problems."
      
   FinalTime: 
        type: "double"
        dimension: [1x1]
        default: "1"
        description: "Time final of simulation"
      
   dt: 
        type: "double"
        dimension: [1x1]
        default: "none"
        description: "Time interval of plots. ATTENTION - the solution of ode is obtain by ode45, with adatative step"
      
   A: 
        type: "double"
        dimension: [NxN]
        default: "none"
        description:  A matrix of lineal problems. If this property is empty, so the ode is not lineal. 
                        $$ \dot{Y} = \textbf{A}Y + BU $$
      
   B: 
        type: "double"
        dimension: [NxN]
        default: "none"
        description: B matrix of lineal problems. If this property is empty, so the ode is not lineal. 
                        $$ \dot{Y} = AY + \textbf{B}U $$
      
   lineal: 
        type: "logical"
        dimension: [MxN]
        default: "false"
        description: This indicator represent the lineal or non-lineal.      
      
   symt: 
        type: "Symbolic"
        dimension: [1x1]
        default: "t"
        description: Represent the symbolic time 
      
   tspan: 
        type: "double"
        dimension: [NxN]
        default: "none"
        description: "Time grid to plot the solution, and interpolate the control"
      
   Yend: 
        type: "double"
        dimension: [NxN]
        default: "none"
        description: "the vector state in final time."
      
   Udim: 
        type: "double"
        dimension: [NxN]
        default: "none"
        description: "Dimension of Control Vector"
      
methods:
   ode:
        description: The ode class, if only de organization of ode.
                      The solve of this class is the RK family.
        autor: JOroya
        OptionalInputs:
          DynamicEquation: 
              description: simbolic expresion
              class: Symbolic
              dimension: [1x1]
          VectorState: 
              description: VectorState
              class: Symbolic
              dimension: [1x1]
          Control: 
              description: simbolic expresion
              class: Symbolic
              dimension: [1x1]
          A: 
              description: simbolic expresion
              class: matrix
              dimension: [1x1]
          B: 
              description: simbolic expresion
              class: matrix
              dimension: [1x1]            
          InitialControl:
              name: Initial Control 
              description: matrix 
              class: double
              dimension: [length(iCP.tspan)]
              default:   empty   
        url: /documentation/mdl00/ode/ode
   animation:
        description: Metodo de Es
        autor: JOroya
        MandatoryInputs:   
        iCP: 
           name: Control Problem
           description: 
           class: ControlProblem
           dimension: [1x1]
        OptionalInputs:
        U0:
           name: Initial Control 
           description: matrix 
           class: double
           dimension: [length(iCP.tline)]
           default:   empty
        url: /documentation/mdl00/ode/animation
   plot:
        description: Constructor the ecuacion diferencial
        autor: JOroya
        MandatoryInputs:   
          DynamicEquation: 
              description: simbolic expresion
              class: Symbolic
              dimension: [1x1]
          VectorState: 
              description: simbolic expresion
              class: Symbolic
              dimension: [1x1]
          Control: 
              description: simbolic expresion
              class: Symbolic
              dimension: [1x1]
        OptionalInputs:
          InitialControl:
              name: Initial Control 
              description: matrix 
              class: double
              dimension: [length(iCP.tspan)]
              default:   empty   
        url: /documentation/mdl00/ode/plot
   plotT:
        description: Metodo de Es
        autor: JOroya
        MandatoryInputs:   
        iCP: 
           name: Control Problem
           description: 
           class: ControlProblem
           dimension: [1x1]
        OptionalInputs:
        U0:
           name: Initial Control 
           description: matrix 
           class: double
           dimension: [length(iCP.tline)]
           default:   empty
        url: /documentation/mdl00/ode/plotT
   resume:
        description: Constructor the ecuacion diferencial
        autor: JOroya
        MandatoryInputs:   
          DynamicEquation: 
              description: simbolic expresion
              class: Symbolic
              dimension: [1x1]
          VectorState: 
              description: simbolic expresion
              class: Symbolic
              dimension: [1x1]
          Control: 
              description: simbolic expresion
              class: Symbolic
              dimension: [1x1]
        OptionalInputs:
          InitialControl:
              name: Initial Control 
              description: matrix 
              class: double
              dimension: [length(iCP.tspan)]
              default:   empty   
        url: /documentation/mdl00/ode/resume
   solve:
        description: 
        autor: JOroya
        MandatoryInputs:   
         iODE: 
           description: List of ODEs
           class: ControlProblem
           dimension: [1x1]
        OptimalParmaters:
        url: /documentation/mdl00/ode/solve

---
```matlab
% Define the simbolic
Y = sym('y',[2 1]); U = sym('u',[2 1]);
% define your wierd dynamics
F = [ sin(Y(1)*Y(2)) + cos(Y(1)*Y(2)) + U(1); ...
      sin(Y(1)*Y(2)) + cos(Y(1)*Y(2)) + U(2) ] ;
dynamics = ode(F,Y,U);
dynamics.Type = 'FinalCondition';
```

```matlab
solve(dynamics)
plot(dynamics)
```


![]({{site.url}}/{{site.baseurl}}/assets/imgs/MDL00/class/main/ode/copiaRM_01.png)


```matlab
dynamics.Type = 'InitialCondition';
solve(dynamics,'RungeKuttaMethod',@ode23)
plot(dynamics)
```


![]({{site.url}}/{{site.baseurl}}/assets/imgs/MDL00/class/main/ode/copiaRM_02.png)

Lineal

```matlab
A = [ -1 0 ; 0 -1];
B = [1 ; 1];

lode = ode('A',A,'B',B)
solve(lode)
plot(lode)
```


```

lode = 

  ode with properties:

    VectorState: [1x1 struct]
        Control: [1x1 struct]
        Dynamic: [1x1 struct]
      Condition: [2x1 double]
           Type: 'InitialCondition'
      FinalTime: 1
             dt: 0.1000
          tspan: [1x11 double]
           Udim: 1


```


![]({{site.url}}/{{site.baseurl}}/assets/imgs/MDL00/class/main/ode/copiaRM_03.png)

